---
title: Diagnostic data collection in Azure Stack HCI
description: An overview of the diagnostic data collected by the Azure Stack HCI operating system and billing service, and how to control what data Microsoft collects.
author: khdownie
ms.author: v-kedow
ms.topic: conceptual
ms.date: 07/21/2020
---

# Diagnostic data in Azure Stack HCI

> Applies to Azure Stack HCI v20H2, Azure Stack HCI

Azure Stack HCI is delivered as a subscription-based service, and Microsoft has the responsibility to keep it secure, performant, and up-to-date with worry-free upgrades so that customers can get the value that they signed up for. But in order to achieve this goal, we need to collect some data so we know what's going on in the system.

## Why does Azure Stack HCI collect data?

 Along with the standard [diagnostic data collected by Windows Server](/windows/privacy/configure-windows-diagnostic-data-in-your-organization), which is set to the lowest level by default, Azure Stack HCI records its own diagnostic data. This data is used for billing purposes, for software updates, to improve stability and performance, and to inform our decisions and focus our efforts in providing the most robust, most valuable HCI platform. This topic explains the data we collect. For a list of connection endpoints that the Windows diagnostics channel uses, see [Manage connections from Windows 10 operating system components to Microsoft services](/windows/privacy/manage-connections-from-windows-operating-system-components-to-microsoft-services).

## What connection endpoints does Azure Stack HCI use for diagnostic data?

The following table lists the Azure Stack HCI function descriptions and the corresponding endpoints to which diagnostic data is transmitted.

| Endpoint                                 | Function                          |
| ---------------------------------------- | --------------------------------- |
| *-azurestackhci-usage.azurewebsites.net  | Azure Stack HCI billing           |
| *-azurestackhci-rp.azurewebsites.net     | Azure Stack HCI resource provider |

## What will we never use diagnostic data for?

Microsoft will never use diagnostic data for the following purposes:

- Licensing audits, such as comparing customer usage against license agreements
- Auditing of products that are out of support
- Advertising based on available data such as feature usage or geolocation (time zone)

## What data do we collect?

The following table list the properties reported by Azure Stack HCI clusters. It will change slightly with every Azure Stack HCI release.

| Property       | Description                                                          |
| -------------- | -------------------------------------------------------------------- |
| clusterId      | Unique id generated by the on-prem cluster                           |
| clusterVersion | Version of the cluster software                                      |
| nodes          | Array of nodes reported by the cluster                               |
| lastUpdated    | Last time the cluster reported the data                              |
| nodeId         | ID/node #                                                            |
| manufacturer   | Manufacturer of the cluster node hardware                            |
| model          | Model name of the cluster node hardware                              |
| osName         | Operating system running on the cluster node                         |
| osVersion      | Version of the operating system running on the cluster node          |
| serialNumber   | Immutable ID of the cluster node                                     |
| hardwareId     | SECRET - Immutable ID of the cluster node hardware                   |
| coreCount      | Number of physical processor cores on the cluster node (for billing) |
| memoryInGiB    | Total available memory on the cluster node                           |

## How does Microsoft collect and handle personally identifiable information (PII)?

For more information about data privacy, see [Privacy at Microsoft](/privacy).

## Next steps

For related information, see also:

- [Diagnostic Data Viewer for PowerShell Overview](/windows/privacy/microsoft-diagnosticdataviewer)
- [Azure Stack HCI Billing and Payment](billing.md)
