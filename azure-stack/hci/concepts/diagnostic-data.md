---
title: Diagnostic data collection in Azure Stack HCI
description: An overview of the diagnostic data collected by the Azure Stack HCI operating system and billing service, and how to control what data Microsoft collects.
author: khdownie
ms.author: v-kedow
ms.topic: conceptual
ms.date: 07/21/2020
---

# Diagnostic data in Azure Stack HCI

> Applies to Azure Stack HCI v20H2, Azure Stack HCI

Azure Stack HCI is delivered as a subscription-based service, and Microsoft has the responsibility to keep it secure, performant, and up-to-date with worry-free upgrades so that customers can get the value that they signed up for. But in order to achieve this goal, we need to collect some data so we know what's going on in the system.

## Why does Azure Stack HCI collect data?

 Along with the standard [diagnostic data collected by Windows Server](/windows/privacy/configure-windows-diagnostic-data-in-your-organization), which is set to the lowest level by default, Azure Stack HCI records its own diagnostic data. This data is used for billing purposes, for software updates, to improve stability and performance, and to inform our decisions and focus our efforts in providing the most robust, most valuable HCI platform. This topic explains the data we collect. For a list of connection endpoints that the Windows diagnostics channel uses, see [Manage connections from Windows 10 operating system components to Microsoft services](/windows/privacy/manage-connections-from-windows-operating-system-components-to-microsoft-services).

## What will we never use diagnostic data for?

Microsoft will never use diagnostic data for the following purposes:

- Licensing audits, such as comparing customer usage against license agreements
- Auditing of products that are out of support
- Advertising based on available data such as feature usage or geolocation (time zone)

## What connection endpoints does Azure Stack HCI use for diagnostic data?

The following table lists the Azure Stack HCI function descriptions and the corresponding endpoints to which diagnostic data is transmitted.

| Endpoint                                 | Function                          |
| ---------------------------------------- | --------------------------------- |
| *-azurestackhci-usage.azurewebsites.net  | Azure Stack HCI billing           |
| *-azurestackhci-rp.azurewebsites.net     | Azure Stack HCI resource provider |

## What data do we collect?

The following is a list of the diagnostic data we collect, which might change with every Azure Stack HCI release:

- A unique ID generated by the on-premises cluster
- The version of the cluster software
- The number of nodes reported by the cluster
- The last time the cluster reported the data
- An ID and serial number for each server in the cluster
- The manufacturer of the cluster hardware
- The model name of the cluster node hardware
- The operating system and version running on the cluster
- The number of physical processor cores on the cluster node (for billing purposes)
- Total available memory on each cluster node

## How does Microsoft collect and handle personally identifiable information (PII)?

For more information about data privacy, see [Privacy at Microsoft](/privacy).

## Next steps

For related information, see also:

- [Diagnostic Data Viewer for PowerShell Overview](/windows/privacy/microsoft-diagnosticdataviewer)
- [Azure Stack HCI Billing and Payment](billing.md)
